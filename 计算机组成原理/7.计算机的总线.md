# 计算机的总线
连接计算机不同设备的数据线，为了解决不同设备之间的通信问题
## 1、总线是什么
**USB通用串行总线**
- 提供了计算机对外连接的接口
- 不同的设备可以通过USB接口进行连接
- 可以作为连接的标准，促使外围设备的统一

**PCI 总线**
**ISA总线**
**Thunderbolt总线**

## 2、总线的分类
**片内总线**
`高集成度芯片内部的信息传输线`，大大简化芯片内部的电路结构
- 主要是在芯片内部的总线
- 连接芯片内部的寄存器与寄存器
- 寄存器与控制器，运算器之间

**系统总线** 
`连接计算机外围各组件之间的信息传输线`，包括CPU、主存、硬盘、IO设备、USB插槽、PCI插槽、显卡、声卡等设备
大致分为三类：
1. 数据总线（位数一般和cpu位数想同，双向传输各个部件的数据信息；数据总线的卫视（总线宽度）是数据总线的重要参数）   
3. 地址总线（数据寻址，地址总线位数 =n 寻址范围0~2^n；指定源数据或目的数据在内存中的地址；位数与存储单元的位数有关）
4. 控制总线（发出各种控制信号；控制信号一般由控制总线从一个组件发给另一个组件；可以监视不同组件之间的状态）

## 2、总线的仲裁
**为什么需要总线的仲裁？**
假设主存需要跟硬盘和IO设备交换数据，这时硬盘和IO设备已经就绪，没有仲裁会引起设备冲突。`总线的仲裁是为了解决总线使用权的冲突问题。`

**总线仲的裁方法**
1. 链式查询
好处：电路复杂度低，仲裁方式简单
坏处：优先级低的设备难以获得总线的使用权，对电路故障敏感

2. 计时器定时查询
仲裁控制器对设备编号并使用计数器累计计数
控制器接收到仲裁信号以后，会往所有设备发射出当前计数值
计数值与设备编号一致的话则获得总线使用权

3. 独立请求
每个设备均有总线独立连接仲裁器
设备可以单独向仲裁器发送请求和接受请求
当同时收到多个请求信号的时候，仲裁器有权按优先级分配使用权
好处：响应速度快，优先顺序可以动态改变
坏处：设备连线多，总线控制相对较为复杂