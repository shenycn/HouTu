# 计算机的指令系统

## 1、机器指令的形式
**机器指令主要由两个部分组成：操作码、地址码**
机器指令本质上还是对数据进行操作

**操作码：**
1. 操作码指明指令所要完成的操作
2. 操作码的位数反映了机器的操作种类（假设位数8位，最多可以有2<sup>8</sup> = 256种操作）

**地址码：**
1. 地址码直接给出操作数或者操作数的地址（指定数据或者数据地址）
2. 分三地址指令（地址码字段有三个地址）、二地址指令和一地址指令

**三地址指令**： 操作码（OP）｜addr1｜addr2｜addr3
（addr1）OP（addr2）=》（addr3） 地址1OP地址2 结果放在地址3

**二地址指令**：操作码（OP）｜addr1｜addr2
（addr1）OP（addr2）=》（addr1）或（addr2） 地址1OP地址2 结果放在地址1或地址2

**一地址指令**：操作码（OP）｜addr1
（addr1）OP=》（addr1）自己对自己的操作
（addr1）OP（ACC）=》（addr1）一个操作数做默认行为 自增

**零地址指令**：
* 在机器指令中无地址码
* 通常为空操作、停机操作、中断返回操作等

## 2、机器指令的操作类型
**数据传输类型**
发生在寄存器之间、寄存器与存储单元、存储单元之间的传送
包括数据读写、交换地址数据、清零置一等操作
**算术逻辑类型**
操作数之间的加减乘除运算
操作数之间的与或非等逻辑位运算
**移位操作**
数据左移（相当于乘2），数据右移（除以2）
完成数据在算术逻辑单元的必要操作
**控制指令**
等待指令、停机指令、空操作指令、中断指令等

## 3、寻址方式
**指令寻址**（数据寻址、跳跃寻址）
| 地址 | 指令      |
| ---- | --------- |
| 101  | MOV R0,R1 |
| 102  | LAD  R1,6 |
| 103  | ADD R1,R2 |
| 104  | AND R1,R3 |
| 105  | JMP 102   |

执行顺序：101—(顺序寻址)—102—(顺序寻址)—103—(顺序寻址)—104—(顺序寻址)—105—(跳跃寻址)—102

**数据寻址**（立即寻址、直接寻址、间接寻址）
1. 立即寻址
指令直接获得操作数
运行指令时无需访问存储器
2. 直接寻址
机器指令里直接给出操作数在主存里的地址，所给出的地址指向主存，指向的位置是指令的操作数
寻找操作数简单、不需要计算数据地址
3. 间接寻址
指令地址码给出的是操作数地址的地址（首先指向主存的一个位置，这个位置存放操作数的地址，主存中操作数的地址指向另一片区域，这片区域存储的是真正需要的操作数）
需要访问一次或多次主存里获取操作数

| 寻址方式 | 优点             | 缺点                         |
| -------- | ---------------- | ---------------------------- |
| 立即寻址 | 速度快           | 地址码位数限制操作数表示范围 |
| 直接寻址 | 寻找操作数简单   | 地址码位数限制操作数寻址范围 |
| 间接寻址 | 操作数寻址范围大 | 速度较慢                     |